<!doctype html>
<html>
	<head>
        <meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width" />

        <title>PersonDemo</title> 

        <link rel="stylesheet" type="text/css" media="screen" href="css/jquery.mobile-1.0a3.min.css" />
        <link rel="stylesheet" type="text/css" media="screen" href="css/personDemo.css" />
		<!-- link rel="stylesheet" href="assets/css/master.css" type="text/css" media="screen" /-->
        
        <script src="phonegap.js" type="text/javascript" charset="utf-8"></script>

        <script type="text/javascript" src="lib/jquery-1.5.min.js"></script>
        <script type="text/javascript" src="lib/jquery.mobile-1.0a3.min.js"></script>
		
		<script type="text/javascript" charset="utf-8">               

			var _name = null;
			var _email = null;
			var _beer = null; 
			var _form = null;
			var _required = null;
			
			var NO_BEER = 'XX'; //oh noes
			var ERROR = "error"; 
			
           	function onBodyLoad() {             
            	document.addEventListener("deviceready",onDeviceReady,false);
           	}
           
           	function onDeviceReady() {
           		//navigator.notification.alert("Page works");
           	}
            
		</script>
		
		
	</head>
	
    <body onload="onBodyLoad()">

        <div data-role="page" id="forside">

            <div data-role="header">
                <h1>People</h1>
            </div>

            <div data-role="content">
                <p>Dette er bare en liten test med eclipse!</p>
                <p>Så får vi se hva vi kan få til med JQuery Mobile</p>
                <form id="personForm">
	                <div id="nameDiv" data-role="fieldcontain">
	                	<label for="name">Name</label>
		                <input id="name" name="name_r" type="text">
	                </div>
	                <div id="emailDiv" data-role="fieldcontain">
	                	<label for="email">Email</label>
		                <input id="email" name="email" type="email">
	                </div>
	                <div id="beerDiv" data-role="fieldcontain">
	                	<label for="beer">Favorite beer</label>
	                	<select id="beer" name="beer_r" tabindex="2">
	                		<option value="XX">This person's favorite beer</option>		
	                		<option value="Ringnes">Ringnes</option>		
	                		<option value="Aass">Aass</option>		
	                		<option value="Frydenlund">Frydenlund</option>		
	                	</select>
	                </div>
	                <div id="submitDiv" data-role="fieldcontain">
	                	<input type="submit" value="Save" data-inline="true" />
	                </div>
                </form>
            </div>
        </div>
        
        <script type="text/javascript" charset="utf-8">
        	$(document).ready(function() {
	        	_name = $('#name');
				_email = $('#email');
				_beer = $('#beer');
				_form = $('#form');
				_required = $('input[name*="_r"]');
        	});
        	
        	$('#personForm').submit(function() {
        		var err = false;
        		
        		_required.each(function(index) {
        			$(this).prev().removeClass(ERROR);
        		});
        		
        		_required.each(function(index) {
					if ($(this).val() == null || $(this).val() == "") {
						$(this).prev().addClass(ERROR);
						err = true;
					}
				});

				return !err;						
    		});
        </script>
    </body>
	
</html>